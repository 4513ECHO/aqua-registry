packages:
  - type: github_release
    repo_owner: WebAssembly
    repo_name: binaryen
    rosetta2: true
    supported_envs:
      - darwin/arm64
      - amd64
    asset: binaryen-{{.Version}}-{{.Arch}}-{{.OS}}.{{.Format}}
    description: Optimizer and compiler/toolchain library for WebAssembly
    format: tar.gz
    replacements:
      darwin: macos
      amd64: x86_64
    files:
      - name: binaryen-unittests
        src: binaryen-{{.Version}}/bin/binaryen-unittests
      - name: wasm-as
        src: binaryen-{{.Version}}/bin/wasm-as
      - name: wasm-ctor-eval
        src: binaryen-{{.Version}}/bin/wasm-ctor-eval
      - name: wasm-dis
        src: binaryen-{{.Version}}/bin/wasm-dis
      - name: wasm-emscripten-finalize
        src: binaryen-{{.Version}}/bin/wasm-emscripten-finalize
      - name: wasm-fuzz-types
        src: binaryen-{{.Version}}/bin/wasm-fuzz-types
      - name: wasm-metadce
        src: binaryen-{{.Version}}/bin/wasm-metadce
      - name: wasm-opt
        src: binaryen-{{.Version}}/bin/wasm-opt
      - name: wasm-reduce
        src: binaryen-{{.Version}}/bin/wasm-reduce
      - name: wasm-shell
        src: binaryen-{{.Version}}/bin/wasm-shell
      - name: wasm-split
        src: binaryen-{{.Version}}/bin/wasm-split
      - name: wasm2js
        src: binaryen-{{.Version}}/bin/wasm2js
