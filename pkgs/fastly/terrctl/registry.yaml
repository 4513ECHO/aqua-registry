packages:
  - type: github_release
    repo_owner: fastly
    repo_name: terrctl
    asset: terrctl-{{.OS}}_{{.Arch}}-{{.Version}}.{{.Format}}
    format: tar.gz
    description: A command-line client for Fastly Terrarium. https://wasm.fastlylabs.com
    replacements:
      amd64: x86_64
      darwin: macos
      windows: win
    overrides:
      - goos: darwin
        goarch: amd64
        asset: terrctl-{{.OS}}-{{.Version}}.{{.Format}}
        files:
          - name: terrctl
            src: "{{.OS}}/terrctl"
      - goos: windows
        format: zip
        asset: terrctl-{{.OS}}32-{{.Version}}.{{.Format}}
        files:
          - name: terrctl
            src: "{{.OS}}32/terrctl.exe"
      - goos: linux
        files:
          - name: terrctl
            src: "{{.OS}}-{{.Arch}}/terrctl"
    supported_envs:
      - darwin
      - linux
      - amd64
